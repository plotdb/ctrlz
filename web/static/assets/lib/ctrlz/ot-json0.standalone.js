(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.otJson0=f()}})(function(){var define,module,exports;function bootstrapTransform(r,t,n,e){var l=r.transformX=function(r,o){n(r),n(o);for(var f,a,h,g=[],i=0;i<o.length;i++){for(var u=o[i],s=[],v=0;v<r.length;){var m=[];if(f=r[v],h=m,t(s,f,a=u,"left"),t(h,a,f,"right"),v++,1!==m.length){if(0===m.length){for(var b=v;b<r.length;b++)e(s,r[b]);u=null;break}for(var c=l(r.slice(v),m),p=0;p<c[0].length;p++)e(s,c[0][p]);for(var k=0;k<c[1].length;k++)e(g,c[1][k]);u=null;break}u=m[0]}null!=u&&e(g,u),r=s}return[r,g]};r.transform=function(r,n,e){if("left"!==e&&"right"!==e)throw new Error("type must be 'left' or 'right'");return 0===n.length?r:1===r.length&&1===n.length?t([],r[0],n[0],e):"left"===e?l(r,n)[0]:l(n,r)[1]}}var _$bootstrapTransform_1=bootstrapTransform;var _$text0_3={};var text=_$text0_3={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(e){if(null!=e&&"string"!=typeof e)throw new Error("Initial data must be a string");return e||""}},strInject=function(e,n,t){return e.slice(0,n)+t+e.slice(n)},checkValidComponent=function(e){if("number"!=typeof e.p)throw new Error("component missing position field");if("string"==typeof e.i==("string"==typeof e.d))throw new Error("component needs an i or d field");if(e.p<0)throw new Error("position cannot be negative")},checkValidOp=function(e){for(var n=0;n<e.length;n++)checkValidComponent(e[n])};text.apply=function(e,n){var t;checkValidOp(n);for(var p=0;p<n.length;p++){var r=n[p];if(null!=r.i)e=strInject(e,r.p,r.i);else{if(t=e.slice(r.p,r.p+r.d.length),r.d!==t)throw new Error("Delete component '"+r.d+"' does not match deleted text '"+t+"'");e=e.slice(0,r.p)+e.slice(r.p+r.d.length)}}return e};var append=text._append=function(e,n){if(""!==n.i&&""!==n.d)if(0===e.length)e.push(n);else{var t=e[e.length-1];null!=t.i&&null!=n.i&&t.p<=n.p&&n.p<=t.p+t.i.length?e[e.length-1]={i:strInject(t.i,n.p-t.p,n.i),p:t.p}:null!=t.d&&null!=n.d&&n.p<=t.p&&t.p<=n.p+n.d.length?e[e.length-1]={d:strInject(n.d,t.p-n.p,t.d),p:n.p}:e.push(n)}};text.compose=function(e,n){checkValidOp(e),checkValidOp(n);for(var t=e.slice(),p=0;p<n.length;p++)append(t,n[p]);return t},text.normalize=function(e){var n=[];null==e.i&&null==e.p||(e=[e]);for(var t=0;t<e.length;t++){var p=e[t];null==p.p&&(p.p=0),append(n,p)}return n};var transformPosition=function(e,n,t){return null!=n.i?n.p<e||n.p===e&&t?e+n.i.length:e:e<=n.p?e:e<=n.p+n.d.length?n.p:e-n.d.length};text.transformCursor=function(e,n,t){for(var p="right"===t,r=0;r<n.length;r++)e=transformPosition(e,n[r],p);return e};var transformComponent=text._tc=function(e,n,t,p){if(checkValidComponent(n),checkValidComponent(t),null!=n.i)append(e,{i:n.i,p:transformPosition(n.p,t,"right"===p)});else if(null!=t.i){var r=n.d;n.p<t.p&&(append(e,{d:r.slice(0,t.p-n.p),p:n.p}),r=r.slice(t.p-n.p)),""!==r&&append(e,{d:r,p:n.p+t.i.length})}else if(n.p>=t.p+t.d.length)append(e,{d:n.d,p:n.p-t.d.length});else if(n.p+n.d.length<=t.p)append(e,n);else{var i={d:"",p:n.p};n.p<t.p&&(i.d=n.d.slice(0,t.p-n.p)),n.p+n.d.length>t.p+t.d.length&&(i.d+=n.d.slice(t.p+t.d.length-n.p));var o=Math.max(n.p,t.p),l=Math.min(n.p+n.d.length,t.p+t.d.length);if(n.d.slice(o-n.p,l-n.p)!==t.d.slice(o-t.p,l-t.p))throw new Error("Delete ops delete different text in the same region of the document");""!==i.d&&(i.p=transformPosition(i.p,t),append(e,i))}return e},invertComponent=function(e){return null!=e.i?{d:e.i,p:e.p}:{i:e.d,p:e.p}};text.invert=function(e){e=e.slice().reverse();for(var n=0;n<e.length;n++)e[n]=invertComponent(e[n]);return e},_$bootstrapTransform_1(text,transformComponent,checkValidOp,append);var _$json0_2={};var isArray=function(o){return"[object Array]"==Object.prototype.toString.call(o)},isObject=function(o){return!!o&&o.constructor===Object},clone=function(o){return JSON.parse(JSON.stringify(o))},json={name:"json0",uri:"http://sharejs.org/types/JSONv0"},subtypes={};function convertFromText(o){o.t="text0";var n={p:o.p.pop()};null!=o.si&&(n.i=o.si),null!=o.sd&&(n.d=o.sd),o.o=[n]}function convertToText(o){o.p.push(o.o[0].p),null!=o.o[0].i&&(o.si=o.o[0].i),null!=o.o[0].d&&(o.sd=o.o[0].d),delete o.t,delete o.o}json.registerSubtype=function(o){subtypes[o.name]=o},json.create=function(o){return void 0===o?null:clone(o)},json.invertComponent=function(o){var n={p:o.p};return o.t&&subtypes[o.t]&&(n.t=o.t,n.o=subtypes[o.t].invert(o.o)),void 0!==o.si&&(n.sd=o.si),void 0!==o.sd&&(n.si=o.sd),void 0!==o.oi&&(n.od=o.oi),void 0!==o.od&&(n.oi=o.od),void 0!==o.li&&(n.ld=o.li),void 0!==o.ld&&(n.li=o.ld),void 0!==o.na&&(n.na=-o.na),void 0!==o.lm&&(n.lm=o.p[o.p.length-1],n.p=o.p.slice(0,o.p.length-1).concat([o.lm])),n},json.invert=function(o){for(var n=o.slice().reverse(),e=[],i=0;i<n.length;i++)e.push(json.invertComponent(n[i]));return e},json.checkValidOp=function(o){for(var n=0;n<o.length;n++)if(!isArray(o[n].p))throw new Error("Missing path")},json.checkList=function(o){if(!isArray(o))throw new Error("Referenced element not a list")},json.checkObj=function(o){if(!isObject(o))throw new Error("Referenced element not an object (it was "+JSON.stringify(o)+")")},json.apply=function(o,n){json.checkValidOp(n),n=clone(n);for(var e={data:o},i=0;i<n.length;i++){var l=n[i];null==l.si&&null==l.sd||convertFromText(l);for(var t=null,r=e,s="data",p=0;p<l.p.length;p++){var d=l.p[p];if(t=r,s,r=r[s],s=d,null==t)throw new Error("Path invalid")}if(l.t&&void 0!==l.o&&subtypes[l.t])r[s]=subtypes[l.t].apply(r[s],l.o);else if(void 0!==l.na){if("number"!=typeof r[s])throw new Error("Referenced element not a number");r[s]+=l.na}else if(void 0!==l.li&&void 0!==l.ld)json.checkList(r),r[s]=l.li;else if(void 0!==l.li)json.checkList(r),r.splice(s,0,l.li);else if(void 0!==l.ld)json.checkList(r),r.splice(s,1);else if(void 0!==l.lm){if(json.checkList(r),l.lm!=s){var u=r[s];r.splice(s,1),r.splice(l.lm,0,u)}}else if(void 0!==l.oi)json.checkObj(r),r[s]=l.oi;else{if(void 0===l.od)throw new Error("invalid / missing instruction in op");json.checkObj(r),delete r[s]}}return e.data},json.shatter=function(o){for(var n=[],e=0;e<o.length;e++)n.push([o[e]]);return n},json.incrementalApply=function(o,n,e){for(var i=0;i<n.length;i++){var l=[n[i]];e(l,o=json.apply(o,l))}return o};var pathMatches=json.pathMatches=function(o,n,e){if(o.length!=n.length)return!1;for(var i=0;i<o.length;i++)if(o[i]!==n[i]&&(!e||i!==o.length-1))return!1;return!0};json.append=function(o,n){if(n=clone(n),0!==o.length){var e=o[o.length-1];if(null==n.si&&null==n.sd||null==e.si&&null==e.sd||(convertFromText(n),convertFromText(e)),pathMatches(n.p,e.p))if(n.t&&e.t&&n.t===e.t&&subtypes[n.t]){if(e.o=subtypes[n.t].compose(e.o,n.o),null!=n.si||null!=n.sd){for(var i=n.p,l=0;l<e.o.length-1;l++)n.o=[e.o.pop()],n.p=i.slice(),convertToText(n),o.push(n);convertToText(e)}}else null!=e.na&&null!=n.na?o[o.length-1]={p:e.p,na:e.na+n.na}:void 0!==e.li&&void 0===n.li&&n.ld===e.li?void 0!==e.ld?delete e.li:o.pop():void 0!==e.od&&void 0===e.oi&&void 0!==n.oi&&void 0===n.od?e.oi=n.oi:void 0!==e.oi&&void 0!==n.od?void 0!==n.oi?e.oi=n.oi:void 0!==e.od?delete e.oi:o.pop():void 0!==n.lm&&n.p[n.p.length-1]===n.lm||o.push(n);else null==n.si&&null==n.sd||null==e.si&&null==e.sd||(convertToText(n),convertToText(e)),o.push(n)}else o.push(n)},json.compose=function(o,n){json.checkValidOp(o),json.checkValidOp(n);for(var e=clone(o),i=0;i<n.length;i++)json.append(e,n[i]);return e},json.normalize=function(o){var n=[];o=isArray(o)?o:[o];for(var e=0;e<o.length;e++){var i=o[e];null==i.p&&(i.p=[]),json.append(n,i)}return n},json.commonLengthForOps=function(o,n){var e=o.p.length,i=n.p.length;if((null!=o.na||o.t)&&e++,(null!=n.na||n.t)&&i++,0===e)return-1;if(0===i)return null;e--,i--;for(var l=0;l<e;l++){var t=o.p[l];if(l>=i||t!==n.p[l])return null}return e},json.canOpAffectPath=function(o,n){return null!=json.commonLengthForOps({p:n},o)},json.transformComponent=function(o,n,e,i){n=clone(n);var l=json.commonLengthForOps(e,n),t=json.commonLengthForOps(n,e),r=n.p.length,s=e.p.length;if((null!=n.na||n.t)&&r++,(null!=e.na||e.t)&&s++,null!=t&&s>r&&n.p[t]==e.p[t])if(void 0!==n.ld)(d=clone(e)).p=d.p.slice(r),n.ld=json.apply(clone(n.ld),[d]);else if(void 0!==n.od){(d=clone(e)).p=d.p.slice(r),n.od=json.apply(clone(n.od),[d])}if(null!=l){var p=r==s,d=e;if(null==n.si&&null==n.sd||null==e.si&&null==e.sd||(convertFromText(n),convertFromText(d=clone(e))),d.t&&subtypes[d.t]){if(n.t&&n.t===d.t){var u=subtypes[n.t].transform(n.o,d.o,i);if(null!=n.si||null!=n.sd)for(var c=n.p,f=0;f<u.length;f++)n.o=[u[f]],n.p=c.slice(),convertToText(n),json.append(o,n);else(!isArray(u)||u.length>0)&&(n.o=u,json.append(o,n));return o}}else if(void 0!==e.na);else if(void 0!==e.li&&void 0!==e.ld){if(e.p[l]===n.p[l]){if(!p)return o;if(void 0!==n.ld){if(void 0===n.li||"left"!==i)return o;n.ld=clone(e.li)}}}else if(void 0!==e.li)void 0!==n.li&&void 0===n.ld&&p&&n.p[l]===e.p[l]?"right"===i&&n.p[l]++:e.p[l]<=n.p[l]&&n.p[l]++,void 0!==n.lm&&p&&e.p[l]<=n.lm&&n.lm++;else if(void 0!==e.ld){if(void 0!==n.lm&&p){if(e.p[l]===n.p[l])return o;c=e.p[l];var a=n.p[l];(c<(v=n.lm)||c===v&&a<v)&&n.lm--}if(e.p[l]<n.p[l])n.p[l]--;else if(e.p[l]===n.p[l]){if(s<r)return o;if(void 0!==n.ld){if(void 0===n.li)return o;delete n.ld}}}else if(void 0!==e.lm)if(void 0!==n.lm&&r===s){a=n.p[l];var v=n.lm,h=e.p[l],m=e.lm;if(h!==m)if(a===h){if("left"!==i)return o;n.p[l]=m,a===v&&(n.lm=m)}else a>h&&n.p[l]--,a>m?n.p[l]++:a===m&&h>m&&(n.p[l]++,a===v&&n.lm++),v>h?n.lm--:v===h&&v>a&&n.lm--,v>m?n.lm++:v===m&&(m>h&&v>a||m<h&&v<a?"right"===i&&n.lm++:v>a?n.lm++:v===h&&n.lm--)}else if(void 0!==n.li&&void 0===n.ld&&p){a=e.p[l],v=e.lm;(c=n.p[l])>a&&n.p[l]--,c>v&&n.p[l]++}else{a=e.p[l],v=e.lm;(c=n.p[l])===a?n.p[l]=v:(c>a&&n.p[l]--,c>v?n.p[l]++:c===v&&a>v&&n.p[l]++)}else if(void 0!==e.oi&&void 0!==e.od){if(n.p[l]===e.p[l]){if(void 0===n.oi||!p)return o;if("right"===i)return o;n.od=e.oi}}else if(void 0!==e.oi){if(void 0!==n.oi&&n.p[l]===e.p[l]){if("left"!==i)return o;json.append(o,{p:n.p,od:e.oi})}}else if(void 0!==e.od&&n.p[l]==e.p[l]){if(!p)return o;if(void 0===n.oi)return o;delete n.od}}return json.append(o,n),o},_$bootstrapTransform_1(json,json.transformComponent,json.checkValidOp,json.append);json.registerSubtype(_$text0_3),_$json0_2=json;var _$otJson0_otJson0={type:_$json0_2}});
!function(t){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=t()}else if("function"==typeof define&&define.amd){define([],t)}else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).json0OtDiff=t()}}(function(){var t,e,r,o=(t=function(t,e){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),o="[object Arguments]"===e;return o||(o="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),o}},function(r){return e||t(e={exports:{},parent:r},e.exports),e.exports});if(!Object.keys){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,p=o({}),y=Object.prototype.propertyIsEnumerable,a=!y.call({toString:null},"toString"),f=y.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(t){var e=t.constructor;return e&&e.prototype===t},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window){return!1}for(var t in window){try{if(!u["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"==typeof window[t]){try{c(window[t])}catch(e){return!0}}}catch(e){return!0}}return!1}();r=function(t){var r=null!==t&&"object"==typeof t,o="[object Function]"===i.call(t),y=p(t),u=r&&"[object String]"===i.call(t),s=[];if(!r&&!o&&!y){throw new TypeError("Object.keys called on a non-object")}var b=f&&o;if(u&&t.length>0&&!n.call(t,0)){for(var g=0;g<t.length;++g){s.push(String(g))}}if(y&&t.length>0){for(var v=0;v<t.length;++v){s.push(String(v))}}else{for(var m in t){b&&"prototype"===m||!n.call(t,m)||s.push(String(m))}}if(a){for(var A=function(t){if("undefined"==typeof window||!d){return c(t)}try{return c(t)}catch(e){return!1}}(t),P=0;P<l.length;++P){A&&"constructor"===l[P]||!n.call(t,l[P])||s.push(l[P])}}return s}}var s=r,b={},g=Array.prototype.slice,v=o({}),m=Object.keys,A=m?function(t){return m(t)}:s,P=Object.keys;A.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return v(t)?P(g.call(t)):P(t)}):Object.keys=A,Object.keys||A},b=A;var S="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,h=Object.prototype.toString,O=function(t){return!(S&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===h.call(t)},j=function(t){return!!O(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==h.call(t)&&"[object Function]"===h.call(t.callee)},w=function(){return O(arguments)}();O.isLegacyArguments=j;var E=Array.prototype.slice,I=Object.prototype.toString,U=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==I.call(e)){throw new TypeError("Function.prototype.bind called on incompatible "+e)}for(var r,o=E.call(arguments,1),n=Math.max(0,e.length-o.length),i=[],p=0;p<n;p++){i.push("$"+p)}if(r=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var n=e.apply(this,o.concat(E.call(arguments)));return Object(n)===n?n:this}return e.apply(t,o.concat(E.call(arguments)))}),e.prototype){var y=function(){};y.prototype=e.prototype,r.prototype=new y,y.prototype=null}return r},F=(U.call(Function.call,Object.prototype.hasOwnProperty),RegExp.prototype.exec,Object.getOwnPropertyDescriptor,Object.prototype.toString,"function"==typeof Symbol&&Symbol.toStringTag,{}),R="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),x=Object.prototype.toString,k=Array.prototype.concat,$=Object.defineProperty,D=$&&function(){var t={};try{for(var r in $(t,"x",{enumerable:!1,value:t}),t){return!1}return t.x===t}catch(e){return!1}}(),T=function(t,e,r,o){var n;e in t&&("function"!=typeof(n=o)||"[object Function]"!==x.call(n)||!o())||(D?$(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},M=function(t,e){var r=arguments.length>2?arguments[2]:{},o=b(e);R&&(o=k.call(o,Object.getOwnPropertySymbols(e)));for(var n=0;n<o.length;n+=1){T(t,o[n],e[o[n]],r[o[n]])}};M.supportsDescriptors=!!D,F=M;var B={};(function(t){"use strict";var e=t.Symbol;B=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols){return!1}if("symbol"==typeof Symbol.iterator){return!0}var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e){return!1}if("[object Symbol]"!==Object.prototype.toString.call(e)){return!1}if("[object Symbol]"!==Object.prototype.toString.call(r)){return!1}for(e in t[e]=42,t){return!1}if("function"==typeof Object.keys&&0!==Object.keys(t).length){return!1}if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length){return!1}var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e){return!1}if(!Object.prototype.propertyIsEnumerable.call(t,e)){return!1}if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable){return!1}}return!0}()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var N=TypeError,W=Object.getOwnPropertyDescriptor;if(W){try{W({},"")}catch(e){W=null}}var _,C=function(){throw new N},G=W?function(){try{return arguments.callee,C}catch(t){try{return W(arguments,"callee").get}catch(e){return C}}}():C,J=B(),V=Object.getPrototypeOf||function(t){return t.__proto__},L="undefined"==typeof Uint8Array?void 0:V(Uint8Array),q={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":J?V([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J?V(V([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&J?V((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&J?V((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":J?V(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":J?Symbol:void 0,"%SymbolPrototype%":J?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":G,"%TypedArray%":L,"%TypedArrayPrototype%":L?L.prototype:void 0,"%TypeError%":N,"%TypeErrorPrototype%":N.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},z=U.call(Function.call,String.prototype.replace),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,Y=function(t,e){if("string"!=typeof t||0===t.length){throw new TypeError("intrinsic name must be a non-empty string")}if(arguments.length>1&&"boolean"!=typeof e){throw new TypeError('"allowMissing" argument must be a boolean')}for(var r,o=(r=[],z(t,H,function(t,e,o,n){r[r.length]=o?z(n,X,"$1"):e||t}),r),n=function(t,e){if(!(t in q)){throw new SyntaxError("intrinsic "+t+" does not exist!")}if(void 0===q[t]&&!e){throw new N("intrinsic "+t+" exists, but is not available. Please file an issue!")}return q[t]}("%"+(o.length>0?o[0]:"")+"%",e),i=1;i<o.length;i+=1){if(null!=n){if(W&&i+1>=o.length){var p=W(n,o[i]);n=p?p.get||p.value:n[o[i]]}else{n=n[o[i]]}}}return n}("%Function%"),K=Y.apply,Q=Y.call;(_=function(){return U.apply(Q,arguments)}).apply=function(){return U.apply(K,arguments)};var Z=Object,tt=TypeError,et=function(){if(null!=this&&this!==Z(this)){throw new tt("RegExp.prototype.flags getter called on non-object")}var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t},rt=F.supportsDescriptors,ot=Object.getOwnPropertyDescriptor,nt=TypeError,it=function(){if(!rt){throw new nt("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors")}if("gim"===/a/gim.flags){var t=ot(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll){return t.get}}return et},pt=F.supportsDescriptors,yt=Object.getOwnPropertyDescriptor,at=Object.defineProperty,ft=TypeError,lt=Object.getPrototypeOf,ct=/a/,ut=_(et);F(ut,{getPolyfill:it,implementation:et,shim:function(){if(!pt||!lt){throw new ft("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors")}var t=it(),e=lt(ct),r=yt(e,"flags");return r&&r.get===t||at(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}});Date.prototype.getDay,Object.prototype.toString,"function"==typeof Symbol&&Symbol.toStringTag,Date.prototype.getTime});
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).diffMatchPatch=t()}}(function(){var t={};function e(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}e.Diff,e.prototype.diff_main=function(t,e,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var r=i;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var h=n,s=this.diff_commonPrefix(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var f=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var l=this.diff_compute_(t,e,h,r);return a&&l.unshift([0,a]),f&&l.push([0,f]),this.diff_cleanupMerge(l),l},e.prototype.diff_compute_=function(t,e,n,i){var r;if(!t)return[[1,e]];if(!e)return[[-1,t]];var h=t.length>e.length?t:e,s=t.length>e.length?e:t,a=h.indexOf(s);if(-1!=a)return r=[[1,h.substring(0,a)],[0,s],[1,h.substring(a+s.length)]],t.length>e.length&&(r[0][0]=r[2][0]=-1),r;if(1==s.length)return[[-1,t],[1,e]];var f=this.diff_halfMatch_(t,e);if(f){var l=f[0],g=f[1],o=f[2],c=f[3],u=f[4],p=this.diff_main(l,o,n,i),d=this.diff_main(g,c,n,i);return p.concat([[0,u]],d)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},e.prototype.diff_lineMode_=function(t,e,n){t=(g=this.diff_linesToChars_(t,e)).chars1,e=g.chars2;var i=g.lineArray,r=this.diff_main(t,e,!1,n);this.diff_charsToLines_(r,i),this.diff_cleanupSemantic(r),r.push([0,""]);for(var h=0,s=0,a=0,f="",l="";h<r.length;){switch(r[h][0]){case 1:a++,l+=r[h][1];break;case-1:s++,f+=r[h][1];break;case 0:if(s>=1&&a>=1){r.splice(h-s-a,s+a),h=h-s-a;for(var g,o=(g=this.diff_main(f,l,!1,n)).length-1;o>=0;o--)r.splice(h,0,g[o]);h+=g.length}a=0,s=0,f="",l=""}h++}return r.pop(),r},e.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,r=e.length,h=Math.ceil((i+r)/2),s=h,a=2*h,f=new Array(a),l=new Array(a),g=0;g<a;g++)f[g]=-1,l[g]=-1;f[s+1]=0,l[s+1]=0;for(var o=i-r,c=o%2!=0,u=0,p=0,d=0,_=0,b=0;b<h&&!((new Date).getTime()>n);b++){for(var v=-b+u;v<=b-p;v+=2){for(var m=s+v,M=(k=v==-b||v!=b&&f[m-1]<f[m+1]?f[m+1]:f[m-1]+1)-v;k<i&&M<r&&t.charAt(k)==e.charAt(M);)k++,M++;if(f[m]=k,k>i)p+=2;else if(M>r)u+=2;else if(c&&(w=s+o-v)>=0&&w<a&&-1!=l[w]&&k>=(y=i-l[w]))return this.diff_bisectSplit_(t,e,k,M,n)}for(var x=-b+d;x<=b-_;x+=2){for(var y,w=s+x,A=(y=x==-b||x!=b&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-x;y<i&&A<r&&t.charAt(i-y-1)==e.charAt(r-A-1);)y++,A++;if(l[w]=y,y>i)_+=2;else if(A>r)d+=2;else if(!c){var k;if((m=s+o-x)>=0&&m<a&&-1!=f[m])if(M=s+(k=f[m])-m,k>=(y=i-y))return this.diff_bisectSplit_(t,e,k,M,n)}}}return[[-1,t],[1,e]]},e.prototype.diff_bisectSplit_=function(t,e,n,i,r){var h=t.substring(0,n),s=e.substring(0,i),a=t.substring(n),f=e.substring(i),l=this.diff_main(h,s,!1,r),g=this.diff_main(a,f,!1,r);return l.concat(g)},e.prototype.diff_linesToChars_=function(t,e){var n=[],i={};function r(t){for(var e="",r=0,h=-1,s=n.length;h<t.length-1;){-1==(h=t.indexOf("\n",r))&&(h=t.length-1);var a=t.substring(r,h+1);r=h+1,(i.hasOwnProperty?i.hasOwnProperty(a):void 0!==i[a])?e+=String.fromCharCode(i[a]):(e+=String.fromCharCode(s),i[a]=s,n[s++]=a)}return e}return n[0]="",{chars1:r(t),chars2:r(e),lineArray:n}},e.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var i=t[n][1],r=[],h=0;h<i.length;h++)r[h]=e[i.charCodeAt(h)];t[n][1]=r.join("")}},e.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,h=0;n<r;)t.substring(h,r)==e.substring(h,r)?h=n=r:i=r,r=Math.floor((i-n)/2+n);return r},e.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,i=Math.min(t.length,e.length),r=i,h=0;n<r;)t.substring(t.length-r,t.length-h)==e.substring(e.length-r,e.length-h)?h=n=r:i=r,r=Math.floor((i-n)/2+n);return r},e.prototype.diff_commonOverlap_=function(t,e){var n=t.length,i=e.length;if(0==n||0==i)return 0;n>i?t=t.substring(n-i):n<i&&(e=e.substring(0,n));var r=Math.min(n,i);if(t==e)return r;for(var h=0,s=1;;){var a=t.substring(r-s),f=e.indexOf(a);if(-1==f)return h;s+=f,0!=f&&t.substring(r-s)!=e.substring(0,s)||(h=s,s++)}},e.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;var r=this;function h(t,e,n){for(var i,h,s,a,f=t.substring(n,n+Math.floor(t.length/4)),l=-1,g="";-1!=(l=e.indexOf(f,l+1));){var o=r.diff_commonPrefix(t.substring(n),e.substring(l)),c=r.diff_commonSuffix(t.substring(0,n),e.substring(0,l));g.length<c+o&&(g=e.substring(l-c,l)+e.substring(l,l+o),i=t.substring(0,n-c),h=t.substring(n+o),s=e.substring(0,l-c),a=e.substring(l+o))}return 2*g.length>=t.length?[i,h,s,a,g]:null}var s,a,f,l,g,o=h(n,i,Math.ceil(n.length/4)),c=h(n,i,Math.ceil(n.length/2));return o||c?(s=c?o&&o[4].length>c[4].length?o:c:o,t.length>e.length?(a=s[0],f=s[1],l=s[2],g=s[3]):(l=s[0],g=s[1],a=s[2],f=s[3]),[a,f,l,g,s[4]]):null},e.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,r=null,h=0,s=0,a=0,f=0,l=0;h<t.length;)0==t[h][0]?(n[i++]=h,s=f,a=l,f=0,l=0,r=t[h][1]):(1==t[h][0]?f+=t[h][1].length:l+=t[h][1].length,r&&r.length<=Math.max(s,a)&&r.length<=Math.max(f,l)&&(t.splice(n[i-1],0,[-1,r]),t[n[i-1]+1][0]=1,i--,h=--i>0?n[i-1]:-1,s=0,a=0,f=0,l=0,r=null,e=!0)),h++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),h=1;h<t.length;){if(-1==t[h-1][0]&&1==t[h][0]){var g=t[h-1][1],o=t[h][1],c=this.diff_commonOverlap_(g,o),u=this.diff_commonOverlap_(o,g);c>=u?(c>=g.length/2||c>=o.length/2)&&(t.splice(h,0,[0,o.substring(0,c)]),t[h-1][1]=g.substring(0,g.length-c),t[h+1][1]=o.substring(c),h++):(u>=g.length/2||u>=o.length/2)&&(t.splice(h,0,[0,g.substring(0,u)]),t[h-1][0]=1,t[h-1][1]=o.substring(0,o.length-u),t[h+1][0]=-1,t[h+1][1]=g.substring(u),h++),h++}h++}},e.prototype.diff_cleanupSemanticLossless=function(t){function n(t,n){if(!t||!n)return 6;var i=t.charAt(t.length-1),r=n.charAt(0),h=i.match(e.nonAlphaNumericRegex_),s=r.match(e.nonAlphaNumericRegex_),a=h&&i.match(e.whitespaceRegex_),f=s&&r.match(e.whitespaceRegex_),l=a&&i.match(e.linebreakRegex_),g=f&&r.match(e.linebreakRegex_),o=l&&t.match(e.blanklineEndRegex_),c=g&&n.match(e.blanklineStartRegex_);return o||c?5:l||g?4:h&&!a&&f?3:a||f?2:h||s?1:0}for(var i=1;i<t.length-1;){if(0==t[i-1][0]&&0==t[i+1][0]){var r=t[i-1][1],h=t[i][1],s=t[i+1][1],a=this.diff_commonSuffix(r,h);if(a){var f=h.substring(h.length-a);r=r.substring(0,r.length-a),h=f+h.substring(0,h.length-a),s=f+s}for(var l=r,g=h,o=s,c=n(r,h)+n(h,s);h.charAt(0)===s.charAt(0);){r+=h.charAt(0),h=h.substring(1)+s.charAt(0),s=s.substring(1);var u=n(r,h)+n(h,s);u>=c&&(c=u,l=r,g=h,o=s)}t[i-1][1]!=l&&(l?t[i-1][1]=l:(t.splice(i-1,1),i--),t[i][1]=g,o?t[i+1][1]=o:(t.splice(i+1,1),i--))}i++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,r=null,h=0,s=!1,a=!1,f=!1,l=!1;h<t.length;)0==t[h][0]?(t[h][1].length<this.Diff_EditCost&&(f||l)?(n[i++]=h,s=f,a=l,r=t[h][1]):(i=0,r=null),f=l=!1):(-1==t[h][0]?l=!0:f=!0,r&&(s&&a&&f&&l||r.length<this.Diff_EditCost/2&&s+a+f+l==3)&&(t.splice(n[i-1],0,[-1,r]),t[n[i-1]+1][0]=1,i--,r=null,s&&a?(f=l=!0,i=0):(h=--i>0?n[i-1]:-1,f=l=!1),e=!0)),h++;e&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,i=0,r=0,h="",s="";n<t.length;)switch(t[n][0]){case 1:r++,s+=t[n][1],n++;break;case-1:i++,h+=t[n][1],n++;break;case 0:i+r>1?(0!==i&&0!==r&&(0!==(e=this.diff_commonPrefix(s,h))&&(n-i-r>0&&0==t[n-i-r-1][0]?t[n-i-r-1][1]+=s.substring(0,e):(t.splice(0,0,[0,s.substring(0,e)]),n++),s=s.substring(e),h=h.substring(e)),0!==(e=this.diff_commonSuffix(s,h))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),h=h.substring(0,h.length-e))),0===i?t.splice(n-r,i+r,[1,s]):0===r?t.splice(n-i,i+r,[-1,h]):t.splice(n-i-r,i+r,[-1,h],[1,s]),n=n-i-r+(i?1:0)+(r?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,r=0,i=0,h="",s=""}""===t[t.length-1][1]&&t.pop();var a=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),a=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,e){var n,i=0,r=0,h=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(i+=t[n][1].length),-1!==t[n][0]&&(r+=t[n][1].length),!(i>e));n++)h=i,s=r;return t.length!=n&&-1===t[n][0]?s:s+(e-h)},e.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,i=/</g,r=/>/g,h=/\n/g,s=0;s<t.length;s++){var a=t[s][0],f=t[s][1].replace(n,"&amp;").replace(i,"&lt;").replace(r,"&gt;").replace(h,"&para;<br>");switch(a){case 1:e[s]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+f+"</del>";break;case 0:e[s]="<span>"+f+"</span>"}}return e.join("")},e.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},e.prototype.diff_levenshtein=function(t){for(var e=0,n=0,i=0,r=0;r<t.length;r++){var h=t[r][0],s=t[r][1];switch(h){case 1:n+=s.length;break;case-1:i+=s.length;break;case 0:e+=Math.max(n,i),n=0,i=0}}return e+Math.max(n,i)},e.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,r=0,h=e.split(/\t/g),s=0;s<h.length;s++){var a=h[s].substring(1);switch(h[s].charAt(0)){case"+":try{n[i++]=[1,decodeURI(a)]}catch(g){throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var f=parseInt(a,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+a);var l=t.substring(r,r+=f);"="==h[s].charAt(0)?n[i++]=[0,l]:n[i++]=[-1,l];break;default:if(h[s])throw new Error("Invalid diff operation in diff_fromDelta: "+h[s])}}if(r!=t.length)throw new Error("Delta length ("+r+") does not equal source text length ("+t.length+").");return n},e.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},e.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(e),r=this;function h(t,i){var h=t/e.length,s=Math.abs(n-i);return r.Match_Distance?h+s/r.Match_Distance:s?1:h}var s=this.Match_Threshold,a=t.indexOf(e,n);-1!=a&&(s=Math.min(h(0,a),s),-1!=(a=t.lastIndexOf(e,n+e.length))&&(s=Math.min(h(0,a),s)));var f,l,g=1<<e.length-1;a=-1;for(var o,c=e.length+t.length,u=0;u<e.length;u++){for(f=0,l=c;f<l;)h(u,n+l)<=s?f=l:c=l,l=Math.floor((c-f)/2+f);c=l;var p=Math.max(1,n-l+1),d=Math.min(n+l,t.length)+e.length,_=Array(d+2);_[d+1]=(1<<u)-1;for(var b=d;b>=p;b--){var v=i[t.charAt(b-1)];if(_[b]=0===u?(_[b+1]<<1|1)&v:(_[b+1]<<1|1)&v|(o[b+1]|o[b])<<1|1|o[b+1],_[b]&g){var m=h(u,b-1);if(m<=s){if(s=m,!((a=b-1)>n))break;p=Math.max(1,2*n-a)}}}if(h(u+1,n)>s)break;o=_}return a},e.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},e.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var r=e.substring(t.start2-i,t.start2);r&&t.diffs.unshift([0,r]);var h=e.substring(t.start2+t.length1,t.start2+t.length1+i);h&&t.diffs.push([0,h]),t.start1-=r.length,t.start2-=r.length,t.length1+=r.length+h.length,t.length2+=r.length+h.length}},e.prototype.patch_make=function(t,n,i){var r,h;if("string"==typeof t&&"string"==typeof n&&void 0===i)r=t,(h=this.diff_main(r,n,!0)).length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(t&&"object"==typeof t&&void 0===n&&void 0===i)h=t,r=this.diff_text1(h);else if("string"==typeof t&&n&&"object"==typeof n&&void 0===i)r=t,h=n;else{if("string"!=typeof t||"string"!=typeof n||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");r=t,h=i}if(0===h.length)return[];for(var s=[],a=new e.patch_obj,f=0,l=0,g=0,o=r,c=r,u=0;u<h.length;u++){var p=h[u][0],d=h[u][1];switch(f||0===p||(a.start1=l,a.start2=g),p){case 1:a.diffs[f++]=h[u],a.length2+=d.length,c=c.substring(0,g)+d+c.substring(g);break;case-1:a.length1+=d.length,a.diffs[f++]=h[u],c=c.substring(0,g)+c.substring(g+d.length);break;case 0:d.length<=2*this.Patch_Margin&&f&&h.length!=u+1?(a.diffs[f++]=h[u],a.length1+=d.length,a.length2+=d.length):d.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(a,o),s.push(a),a=new e.patch_obj,f=0,o=c,l=g)}1!==p&&(l+=d.length),-1!==p&&(g+=d.length)}return f&&(this.patch_addContext_(a,o),s.push(a)),s},e.prototype.patch_deepCopy=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i],h=new e.patch_obj;h.diffs=[];for(var s=0;s<r.diffs.length;s++)h.diffs[s]=r.diffs[s].slice();h.start1=r.start1,h.start2=r.start2,h.length1=r.length1,h.length2=r.length2,n[i]=h}return n},e.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var i=0,r=[],h=0;h<t.length;h++){var s,a,f=t[h].start2+i,l=this.diff_text1(t[h].diffs),g=-1;if(l.length>this.Match_MaxBits?-1!=(s=this.match_main(e,l.substring(0,this.Match_MaxBits),f))&&(-1==(g=this.match_main(e,l.substring(l.length-this.Match_MaxBits),f+l.length-this.Match_MaxBits))||s>=g)&&(s=-1):s=this.match_main(e,l,f),-1==s)r[h]=!1,i-=t[h].length2-t[h].length1;else if(r[h]=!0,i=s-f,l==(a=-1==g?e.substring(s,s+l.length):e.substring(s,g+this.Match_MaxBits)))e=e.substring(0,s)+this.diff_text2(t[h].diffs)+e.substring(s+l.length);else{var o=this.diff_main(l,a,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(o)/l.length>this.Patch_DeleteThreshold)r[h]=!1;else{this.diff_cleanupSemanticLossless(o);for(var c,u=0,p=0;p<t[h].diffs.length;p++){var d=t[h].diffs[p];0!==d[0]&&(c=this.diff_xIndex(o,u)),1===d[0]?e=e.substring(0,s+c)+d[1]+e.substring(s+c):-1===d[0]&&(e=e.substring(0,s+c)+e.substring(s+this.diff_xIndex(o,u+d[1].length))),-1!==d[0]&&(u+=d[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),r]},e.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var r=t[0],h=r.diffs;if(0==h.length||0!=h[0][0])h.unshift([0,n]),r.start1-=e,r.start2-=e,r.length1+=e,r.length2+=e;else if(e>h[0][1].length){var s=e-h[0][1].length;h[0][1]=n.substring(h[0][1].length)+h[0][1],r.start1-=s,r.start2-=s,r.length1+=s,r.length2+=s}return 0==(h=(r=t[t.length-1]).diffs).length||0!=h[h.length-1][0]?(h.push([0,n]),r.length1+=e,r.length2+=e):e>h[h.length-1][1].length&&(s=e-h[h.length-1][1].length,h[h.length-1][1]+=n.substring(0,s),r.length1+=s,r.length2+=s),n},e.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,i=0;i<t.length;i++)if(!(t[i].length1<=n)){var r=t[i];t.splice(i--,1);for(var h=r.start1,s=r.start2,a="";0!==r.diffs.length;){var f=new e.patch_obj,l=!0;for(f.start1=h-a.length,f.start2=s-a.length,""!==a&&(f.length1=f.length2=a.length,f.diffs.push([0,a]));0!==r.diffs.length&&f.length1<n-this.Patch_Margin;){var g=r.diffs[0][0],o=r.diffs[0][1];1===g?(f.length2+=o.length,s+=o.length,f.diffs.push(r.diffs.shift()),l=!1):-1===g&&1==f.diffs.length&&0==f.diffs[0][0]&&o.length>2*n?(f.length1+=o.length,h+=o.length,l=!1,f.diffs.push([g,o]),r.diffs.shift()):(o=o.substring(0,n-f.length1-this.Patch_Margin),f.length1+=o.length,h+=o.length,0===g?(f.length2+=o.length,s+=o.length):l=!1,f.diffs.push([g,o]),o==r.diffs[0][1]?r.diffs.shift():r.diffs[0][1]=r.diffs[0][1].substring(o.length))}a=(a=this.diff_text2(f.diffs)).substring(a.length-this.Patch_Margin);var c=this.diff_text1(r.diffs).substring(0,this.Patch_Margin);""!==c&&(f.length1+=c.length,f.length2+=c.length,0!==f.diffs.length&&0===f.diffs[f.diffs.length-1][0]?f.diffs[f.diffs.length-1][1]+=c:f.diffs.push([0,c])),l||t.splice(++i,0,f)}}},e.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var i=t.split("\n"),r=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;r<i.length;){var s=i[r].match(h);if(!s)throw new Error("Invalid patch string: "+i[r]);var a=new e.patch_obj;for(n.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),r++;r<i.length;){var f=i[r].charAt(0);try{var l=decodeURI(i[r].substring(1))}catch(g){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==f)a.diffs.push([-1,l]);else if("+"==f)a.diffs.push([1,l]);else if(" "==f)a.diffs.push([0,l]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+l)}r++}}return n},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},(t=e).diff_match_patch=e,t.DIFF_DELETE=-1,t.DIFF_INSERT=1,t.DIFF_EQUAL=0});
